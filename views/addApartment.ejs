<%- include("templates/header", { title: title }) %>

    <!-- <ul>
        <li>
            <% if (!user || !user.photo) { %>
                <button onclick="window.location.href='/auth/google'" title="Iniciar sesi√≥n">üîë</button>
                <% } %>
        </li>
        <li>
            <% if (user) { %>
                <button onclick="window.location.href='/logout'" title="Cerrar sesi√≥n">
                    <% if (user.photo && user.photo.trim() !=="" ) { %>
                        <img src="<%= user.photo %>" alt="Logout"
                            style="width: 28px; height: 28px; border-radius: 50%;">
                        <% } else { %>
                            <i class="fas fa-user" style="font-size: 1.2rem;"></i>
                            <% } %>
                </button>
                <% } %>
        </li>
    </ul> -->
    </h1>
    <div class="container">
<form action="/admin/apartment" method="post">

  <!-- T√≠tulo y Descripci√≥n -->
  <div class="row g-3 mb-4">
    <div class="col-md-6">
      <label for="title" class="form-label">T√≠tulo del apartamento</label>
      <input type="text" name="title" id="title" class="form-control" required />
    </div>
    <div class="col-md-6">
      <label for="description" class="form-label">Descripci√≥n</label>
      <textarea name="description" id="description" class="form-control" rows="3" required></textarea>
    </div>
  </div>

  <!-- Reglas din√°micas -->
  <div class="row g-3 mb-4">
    <div class="col-md-12">
      <label class="form-label">Reglas</label>
      <div id="rulesContainer"></div>
      <button type="button" onclick="addRuleField()" class="btn btn-outline-secondary btn-sm mt-2">+ A√±adir norma</button>
    </div>
  </div>

  <!-- Habitaciones y Camas -->
  <div class="row g-3 mb-4">
    <div class="col-md-6">
      <label for="rooms" class="form-label">N√∫mero de habitaciones</label>
      <input type="number" name="rooms" id="rooms" min="1" class="form-control" required />
    </div>
    <div class="col-md-6">
      <label class="form-label">Camas por habitaci√≥n</label>
      <div id="bedsContainer"></div>
    </div>
  </div>

  <!-- Ba√±os y Fotos -->
  <div class="row g-3 mb-4">
    <div class="col-md-6">
      <label for="bathrooms" class="form-label">N√∫mero de ba√±os</label>
      <input type="number" name="bathrooms" id="bathrooms" min="1" class="form-control" />
    </div>
    <div class="col-md-6">
      <label class="form-label">Fotos</label>
      <div id="photosContainer"></div>
      <button type="button" onclick="addPhotoField()" class="btn btn-outline-secondary btn-sm mt-2">+ A√±adir foto</button>
    </div>
  </div>

  <!-- Precio, Hu√©spedes y Metros cuadrados -->
  <div class="row g-3 mb-4">
    <div class="col-md-4">
      <label for="price" class="form-label">Precio por d√≠a (‚Ç¨)</label>
      <input type="number" name="price" id="price" min="0" class="form-control" required />
    </div>
    <div class="col-md-4">
      <label for="maxGuests" class="form-label">M√°ximo de hu√©spedes</label>
      <input type="number" name="maxGuests" id="maxGuests" min="1" class="form-control" required />
    </div>
    <div class="col-md-4">
      <label for="squareMeters" class="form-label">Metros cuadrados</label>
      <input type="number" name="squareMeters" id="squareMeters" min="1" class="form-control" required />
    </div>
  </div>

  <!-- Servicios -->
  <div class="mb-4">
    <legend class="form-label">Servicios</legend>
    <div class="row g-2">
      <div class="col-md-4">
        <div class="form-check">
          <input type="checkbox" name="services[airConditioning]" class="form-check-input" id="airConditioning">
          <label class="form-check-label" for="airConditioning">Aire acondicionado</label>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-check">
          <input type="checkbox" name="services[heating]" class="form-check-input" id="heating">
          <label class="form-check-label" for="heating">Calefacci√≥n</label>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-check">
          <input type="checkbox" name="services[accessibility]" class="form-check-input" id="accessibility">
          <label class="form-check-label" for="accessibility">Accesibilidad</label>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-check">
          <input type="checkbox" name="services[television]" class="form-check-input" id="television">
          <label class="form-check-label" for="television">Televisi√≥n</label>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-check">
          <input type="checkbox" name="services[kitchen]" class="form-check-input" id="kitchen">
          <label class="form-check-label" for="kitchen">Cocina</label>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-check">
          <input type="checkbox" name="services[internet]" class="form-check-input" id="internet">
          <label class="form-check-label" for="internet">Internet</label>
        </div>
      </div>
    </div>
  </div>

  <!-- Ubicaci√≥n -->
  <div class="row g-3 mb-4">
    <div class="col-md-4">
      <label for="location[province]" class="form-label">Provincia:</label>
      <input type="text" name="location[province]" class="form-control" />
    </div>
    <div class="col-md-4">
      <label for="location[city]" class="form-label">Ciudad:</label>
      <input type="text" name="location[city]" class="form-control" />
    </div>
    <div class="col-md-2">
      <label for="location[gpsCoordinates][lat]" class="form-label">Latitud (GPS):</label>
      <input type="number" step="any" name="location[gpsCoordinates][lat]" class="form-control" />
    </div>
    <div class="col-md-2">
      <label for="location[gpsCoordinates][lng]" class="form-label">Longitud (GPS):</label>
      <input type="number" step="any" name="location[gpsCoordinates][lng]" class="form-control" />
    </div>
  </div>

  <!-- Bot√≥n de env√≠o -->
  <div class="d-grid gap-2">
    <button type="submit" class="btn btn-primary">A√±adir apartamento</button>
  </div>

</form>
        <br />
        <a href="/">Volver al inicio</a>
    </div>
<%- include("templates/footer") %>